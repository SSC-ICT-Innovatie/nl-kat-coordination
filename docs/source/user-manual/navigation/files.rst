Files
=====

The Files page provides access to all files uploaded to or generated by OpenKAT. This includes raw scan outputs from plugins, generated reports, and manually uploaded files.

Overview
--------

Files in OpenKAT can come from several sources:

- **Plugin outputs**: Raw scan data generated by plugins (JSON, XML, text files)
- **Generated reports**: PDF reports created by the report generator
- **Uploaded files**: Files manually uploaded by users
- **Task results**: Output files from completed tasks

The Files page allows you to:

- Browse all files stored in OpenKAT
- Download files for analysis or archiving
- View file contents directly in the browser
- Filter files by organization, type, or source
- Create new plugins that process existing files

File List
---------

The Files page displays a table with the following columns:

- **ID**: Unique identifier for the file
- **File name**: The name of the file
- **Location**: Directory path where the file is stored
- **Source**: The plugin or task that created the file
- **Created date**: When the file was created
- **Organization**: Which organization the file belongs to
- **Download**: Link to download the file
- **View**: Button to view file contents in the browser
- **Actions**: Additional operations (e.g., create plugin from file)

Filtering Files
---------------

Use the filter form to narrow down the file list:

- **Organization**: Show files for specific organizations
- **File type**: Filter by file extension or MIME type
- **Date range**: Show files created within a specific time period
- **Source**: Filter by plugin or task

Click "Apply" to apply filters or "Clear all" to reset them.

Downloading Files
-----------------

To download a file:

1. Click the download icon in the "Download" column
2. The file will be downloaded to your browser's download folder

Downloaded files retain their original name and format.

Viewing File Contents
---------------------

To view a file's contents directly in the browser:

1. Click the "Open details" button in the "View" column
2. The file contents will be displayed in an expanded row below the file entry

This is useful for:

- Quickly inspecting JSON or XML scan results
- Reviewing text-based plugin outputs
- Checking log files without downloading

**Note**: Large files may be truncated or may not display well in the browser. Download them for full analysis.

Uploading Files
---------------

If you have the appropriate permissions, you can manually upload files:

1. Click the "Add file" button on the Files page
2. Choose a file from your computer
3. Optionally specify:

   - File type or MIME type
   - Associated organization
   - Description or metadata

4. Upload the file

Uploaded files can be used as inputs for plugins or for record-keeping purposes.

Creating Plugins from Files
----------------------------

Files can be used as inputs for new plugin executions:

1. Click the "Add plugin" button next to a file
2. You'll be redirected to the plugin creation page with the file pre-selected as an argument
3. Configure the plugin settings
4. Run the plugin using the file as input

This is useful for:

- Reprocessing scan results with different parsing plugins
- Running analysis plugins on previously collected data
- Testing custom plugins with known inputs

File Types
----------

Common file types you'll encounter:

Raw Scan Outputs
****************

- **JSON**: Structured data from API-based scanners
- **XML**: Structured data from various scanning tools
- **Text**: Plain text logs or reports
- **CSV**: Tabular data exports

These files contain the raw, unprocessed output from plugins before normalization.

Generated Reports
*****************

- **PDF**: Security reports generated by the report system
- **JSON**: Structured report data for automated processing

See :doc:`reports` for more information about report generation.

Uploaded Files
**************

- Any file type supported by OpenKAT
- Used for custom analysis or reference

File Storage
------------

Files are stored in the OpenKAT database and filesystem:

- Each file has a unique ID and path
- Files are organized by organization and creation date
- Storage location is managed automatically by OpenKAT

**Important**: Files can consume significant disk space over time. Consider:

- Regularly reviewing and deleting old files
- Archiving important files externally
- Setting up automated cleanup policies for temporary files

Permissions
-----------

File access is controlled by permissions:

- **View**: See files in the list and view their contents
- **Download**: Download files to local storage
- **Upload**: Add new files manually
- **Delete**: Remove files from the system

Permissions are typically assigned at the organization level.

Related Pages
-------------

- :doc:`tasks` - View tasks that generated files
- :doc:`plugins` - Configure plugins that create files
- :doc:`reports` - Generate PDF report files
